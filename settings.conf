apex {
  actor {
    node-mailbox {
      mailbox-type = "com.apex.Node$PrioMailbox"
      //Other mailbox configuration goes here
    }

    rpc-dispatcher {
      type = Dispatcher
      executor = "thread-pool-executor"
      thread-pool-executor {
        fixed-pool-size = 32
      }
      throughput = 1
    }
  }

  network {
    nodeName = "YourNameNodePhase2"
    # 修改成自己的本机IP
    bindAddress = "0.0.0.0:9092"
    #对外IP
    declaredAddress="your-static-public-ip:9092"
    peersDB = ${user.home}/peers
    # 已知节点IP地址列表
    knownPeers = ["54.37.204.75:9092",81.169.201.189:9092"]
    # 网络名称
    agentName = "1-Hop"
    maxPacketSize = 1048576
    # 只接受本地连接
    localOnly = false
    # 网络握手版本
    appVersion = 0.0.1
    # 网络连接数
    maxConnections = 20
    # 网络连接超时
    connectionTimeout = 5s
    upnpEnabled = no
    # 网络握手超时
    handshakeTimeout = 30s
    # 网络控制器超时
    controllerTimeout = 5s
    // Peer clock may be no more than 1 second skewed from our clock, including network latency
    peerMaxTimeGap = 1000

    # 每次同步peer最多发送的peer数量
    peerSyncNumber =1
    # 本地最多存储peer数量
    peerDatabaseMax =200
  }

  ntp {
    # NTP 服务器地址
    server = "cn.pool.ntp.org"
    # 更新时间速率
    updateEvery = 30m
    # 服务器应答超时
    timeout = 30s
  }

  chain {
    dataBase {
      dir = "test_net/data"
      cacheEnabled = true
      cacheSize = 1000
      dbType = 1
    }
    forkBase {
      dir = "test_net/fork"
      cacheEnabled = true
      cacheSize = 100
      dbType = 1
    }
    blockBase {
      dir = "test_net/block"
      cacheEnabled = true
      cacheSize = 10
      dbType = 1
    }
    peerBase {
      dir = "test_net/peer"
      cacheEnabled = true
      cacheSize = 10
      dbType = 1
    }

    // coins generated every block
    minerAward = 12.3

    genesis {
      timeStamp = "2019-03-24T12:00:00Z"
      privateKey = "7a93d447bffe6d89e690f529a3a0bdff8ff6169172458e04849ef1d4eafd7f86"

      genesisCoinAirdrop =  [
        {
          addr = "APEwS7ZiA4HNJAMznmjaupUtFLx73EhaGeS"
          coins = 2.1
        }
        {
          addr = "APLUf5g4YDghJTFZrkkLMjeZVkVDKxVMvW1"
          coins = 3.2
        }
      ]
    }
  }

  rpc {
    enabled = true,
    host = "localhost",
    port = "8080"
  }

  secretRpc {
    enabled = true,
    host = "localhost",
    port = "8088"
  }

  consensus {

    produceInterval = 500

    acceptableTimeError = 500

    # The number of sequential blocks produced by a single producer
    producerRepetitions = 12

    witnessNum = 20

    // time(ms) of every electe round
    electeTime = 120000

    initialWitness = [

      {
        name = "init1"
        pubkeyHash = cef7ea402aabc722e3ab93e1daf416d368650fae
      }

      {
        name = "init2"
        pubkeyHash = bd203623182aa8dcaabbe9be18aa645ccbbdddad
      }

      {
        name = "init3"
        pubkeyHash = 4055ee9e010cbde5f7efd4cfd87fe820c0323ab7
      }

      {
        name = "init4"
        pubkeyHash = a87d5c09d6f26d833ab9d0c97a94e211827102e2
      }

      {
        name = "init5"
        pubkeyHash = 0cfc2b345d352aa5ca7724b933a8f5af0e41b70e
      }

      {
        name = "init6"
        pubkeyHash = fdae00fefbddedf53514a084dfa6cd29c5164742
      }

      {
        name = "init7"
        pubkeyHash = 867b796e599f747417664f0da64a64ba2317389b
      }

      {
        name = "init8"
        pubkeyHash = 9ce3ae3c49ed0abcbacd634daf2c7b8612c74964
      }

      {
        name = "init9"
        pubkeyHash = f476e818096d35371239c83cca9d7a7af72aeb19
      }

      {
        name = "init10"
        pubkeyHash = be5309b59253e209898df098e1afa04d0fd54b8d
      }

      {
        name = "init11"
        pubkeyHash = 1c7b2423dd5db8cbe8568d35200848917d5cb705
      }

      {
        name = "init12"
        pubkeyHash = da5ce61d99887f29991a69d4060d8fb2e21bd8c3
      }

      {
        name = "init13"
        pubkeyHash = 7669a4855ea5182d40bfa35d2c8a3d75dd768eb0
      }

      {
        name = "init14"
        pubkeyHash = a04eaf63c4c0ef6ff60b0348390ff5aa42a7a5e4
      }

      {
        name = "init15"
        pubkeyHash = 37082ff1e8ad27a157a2bc9251dad311da8a2c0e
      }

      {
        name = "init16"
        pubkeyHash = d248fe8d70505e702e6b59380e1e6b23373d2a63
      }

      {
        name = "init17"
        pubkeyHash = 7541f8d91f10060b19488554e72069ad32d218e7
      }

      {
        name = "init18"
        pubkeyHash = b7d83473f6b1fb65f7a519de82df4c44a086b38a
      }

      {
        name = "init19"
        pubkeyHash = d925ce0cf4974e97190f78d23147a45cd44e83b0
      }

      {
        name = "init20"
        pubkeyHash = 97fb3a6af5e6f5f0686f0666c43f1d97eb799b03
      }

    ]
  }

  miner {

    privKeys = []

  }

  plugins {
    mongodb {
      enabled = false
      uri = "mongodb://localhost:27017"
    }
  }

  runtimeParas {
    // time(ms) before block finalize, to prevent too many or too slow(high gas limit) tx to cause block produced delay
    stopProcessTxTimeSlot = 100
    // tx will be dropped directly during block producing if gas limit is large than this
    txAcceptGasLimit = 9000000
  }

}
